<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Pfe : Postgresql Function Editor">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Pfe</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/danmanstx/pfe">View on GitHub</a>

          <h1 id="project_title">Pfe</h1>
          <h2 id="project_tagline">Postgresql Function Editor</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/danmanstx/pfe/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/danmanstx/pfe/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="postgresql-function-editor---sublime-plugin" class="anchor" href="#postgresql-function-editor---sublime-plugin" aria-hidden="true"><span class="octicon octicon-link"></span></a>Postgresql Function Editor - Sublime Plugin</h1>

<p>Plugin for <a href="http://www.sublimetext.com">Sublime Text 3</a> that helps you work directly with postgresql database functions and run <a href="http://pgtap.org">pgTAP</a> tests. <a href="https://trello.com/b/aNujDnId/posgresql-function-editor-sublime-text">Trello board</a></p>

<p><em>Warning:</em> If you experience problems or have suggestions please <a href="https://github.com/danmanstx/pfe/issues">file an issue</a>.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Creates a local copy of all database functions from a specified database.</li>
<li>Save a Function to the database with output.</li>
<li>Ability to Run a <a href="http://pgtap.org">pgTAP</a> test, or all open test files.</li>
<li>Pgplsql highlighting, and pgTAP output panel highlighting.</li>
<li>Quick Switch between file and test with <kbd>CMD</kbd>+<kbd>.</kbd>.</li>
<li>Quick Create new plpgsql functions with <kbd>CMD</kbd>+<kbd>ALT</kbd>+<kbd>o</kbd>.</li>
<li>Common Completions and Snippets for <code>plpgsql</code> files</li>
</ul>

<p><img src="https://raw.github.com/danmanstx/pfe/master/images/pfe.gif" alt="gif"></p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<h3>
<a id="set-database-information" class="anchor" href="#set-database-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>Set Database Information</h3>

<ul>
<li>Invoke via <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>D</kbd> (menu: <code>Tools</code> -&gt; <code>Postgresql Function Editor</code> -&gt; <code>Set Databse Info</code>)</li>
<li>set database option values</li>
</ul>

<p><img src="https://raw.github.com/danmanstx/pfe/master/images/settings.png" alt="Sample Database Info File"></p>

<h3>
<a id="load-database-functions" class="anchor" href="#load-database-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Load Database functions</h3>

<ul>
<li>Invoke via <kbd>F1</kbd> or <code>Tools</code> -&gt; <code>Postgresql Function Editor</code> -&gt; <code>Load Database Functions</code>
</li>
<li>Loads the database functions in the side bar seperated by folders which one for each schema.</li>
</ul>

<h3>
<a id="save-a-function-to-the-database" class="anchor" href="#save-a-function-to-the-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save a Function to The Database</h3>

<ul>
<li>Invoke via <kbd>F2</kbd> or <code>Tools</code> -&gt; <code>Postgresql Function Editor</code> -&gt; <code>Save Database Function</code>
</li>
<li>Saves the function to the database and opens a panel with the command output.</li>
</ul>

<p><img src="https://raw.github.com/danmanstx/pfe/master/images/save.png" alt="Saved Function"></p>

<h3>
<a id="run-pgtap-tests" class="anchor" href="#run-pgtap-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run <a href="http://pgtap.org">pgTAP</a> Test(s)</h3>

<h4>
<a id="run-test-in-active-tab" class="anchor" href="#run-test-in-active-tab" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run test in active tab</h4>

<ul>
<li>Invoke via <kbd>F3</kbd> or <code>Tools</code> -&gt; <code>Postgresql Function Editor</code> -&gt; <code>Run pgTAP Test</code>
</li>
<li>Saves the function to the database and opens a panel with the test output.</li>
</ul>

<p><img src="https://raw.github.com/danmanstx/pfe/master/images/test.png" alt="Test Output"></p>

<h4>
<a id="run-all-opened-tests" class="anchor" href="#run-all-opened-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run all opened tests</h4>

<ul>
<li>Invoke via <kbd>F4</kbd> or <code>Tools</code> -&gt; <code>Postgresql Function Editor</code> -&gt; <code>Run All Opened Tests</code>
</li>
<li>Saves the active function to the database and opens a panel with the test output for all open test.</li>
</ul>

<h3>
<a id="quick-switchcreate-file" class="anchor" href="#quick-switchcreate-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Quick Switch/Create File</h3>

<ul>
<li>Invoke via <kbd>CMD</kbd>+<kbd>.</kbd> or <kbd>CMD</kbd>+<kbd>Ctrl</kbd>+<kbd>.</kbd> for same pane split.</li>
<li>Attempts to switch to or create the alternating file/test based on the schema and function name.</li>
<li>this expects either a <code>public</code>/<code>testing</code> schema, or <code>foo</code> and <code>foo_testing</code> schemas as an example.</li>
</ul>

<h3>
<a id="create-new-function" class="anchor" href="#create-new-function" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create New Function</h3>

<ul>
<li>Invoke via <kbd>CMD</kbd>+<kbd>ALT</kbd>+<kbd>o</kbd>
</li>
<li>Brings up a list of schemas, and then allows you to specify the exact function you would like. Then use <kbd>F2</kbd> to save this function into the current database.</li>
</ul>

<h2>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h2>

<ul>
<li>
<a href="http://www.sublimetext.com">Sublime Text 3</a> and <a href="https://packagecontrol.io">Package Manager</a>, </li>
<li>
<a href="http://pgtap.org">pgTAP</a> for pgTAP testing</li>
</ul>

<h2>
<a id="how-to-install-on-a-mac" class="anchor" href="#how-to-install-on-a-mac" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to install on a Mac</h2>

<ul>
<li>install <a href="https://packagecontrol.io/installation">package manager</a>
</li>
<li>clone repo for pfe in packages directory</li>
</ul>

<div class="highlight highlight-bash"><pre><span class="pl-s3">cd</span> <span class="pl-k">~</span>/Library/Application<span class="pl-cce">\ </span>Support/Sublime<span class="pl-cce">\ </span>Text<span class="pl-cce">\ </span>3/Packages
git clone https://github.com/danmanstx/pfe.git</pre></div>

<ul>
<li>before closing sublime add <code>pfe</code> to your <code>installed packages</code> located here:<br>
<code>Sublime text --&gt; Preferences --&gt; Package Settings --&gt; Package Control --&gt; Settings - User</code>
</li>
</ul>

<p><strong>COMING SOON</strong> install with <a href="http://wbond.net/sublime_packages/package_control">Package Control</a></p>

<h2>
<a id="options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h2>

<p>Sample options below.</p>

<p>Go to <code>Preferences</code> -&gt; <code>Package Settings</code> -&gt; <code>Postgresql Function Editor</code>-&gt;<code>Settings - User</code> and add this to the file or copy and edit from <code>Settings - Default</code> :</p>

<div class="highlight highlight-json"><pre>{
  <span class="pl-s1"><span class="pl-pds">"</span>function_folder<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>/tmp/postgresFunctions<span class="pl-pds">"</span></span>,
  <span class="pl-s1"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>,
  <span class="pl-s1"><span class="pl-pds">"</span>database<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>database<span class="pl-pds">"</span></span>,
  <span class="pl-s1"><span class="pl-pds">"</span>user<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>postgresql<span class="pl-pds">"</span></span>,
  <span class="pl-s1"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span>: <span class="pl-s1"><span class="pl-pds">"</span>5432<span class="pl-pds">"</span></span>,
}</pre></div>

<h2>
<a id="changelog" class="anchor" href="#changelog" aria-hidden="true"><span class="octicon octicon-link"></span></a>Changelog</h2>

<h3>
<a id="v100" class="anchor" href="#v100" aria-hidden="true"><span class="octicon octicon-link"></span></a>v1.0.0</h3>

<ul>
<li>Initial release</li>
</ul>

<h2>
<a id="acknowledgments" class="anchor" href="#acknowledgments" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgments</h2>

<ul>
<li>Inspired by <a href="http://www.suran.com">Suran Systems</a> Textmate Postgresql Bundle.</li>
<li>Quick Switching Inspired by <a href="https://github.com/maltize/sublime-text-2-ruby-tests">Ruby Test</a>.</li>
<li>Quick File Creation Inspired By <a href="https://github.com/noklesta/SublimeQuickFileCreator">Sublime Quick File Creator</a>
</li>
<li>No more ruby or gems! Thanks to <a href="http://phusion.github.io/traveling-ruby/">Traveling Ruby</a>
</li>
</ul>

<h2>
<a id="roadmap" class="anchor" href="#roadmap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Roadmap</h2>

<ul>
<li>Add more plpgsql Snippets for better autocompletion.</li>
<li>Add ability to save recently used databases.</li>
<li>Add linux/Windows Traveling Ruby Packages.</li>
<li>Creation of atom plugin because sublime's future is uncertain.</li>
</ul>

<h2>
<a id="copyright-and-license" class="anchor" href="#copyright-and-license" aria-hidden="true"><span class="octicon octicon-link"></span></a>Copyright and license</h2>

<p>Copyright © 2014 Danny Peters, @<a href="http://twitter.com/danmanstx">danmanstx</a></p>

<p>Licensed under the <a href="https://gnu.org/licenses/gpl.html"><strong>GNU GPL</strong></a> license.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Pfe maintained by <a href="https://github.com/danmanstx">danmanstx</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-58598607-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
