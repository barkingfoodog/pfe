{"name":"Pfe","tagline":"Postgresql Function Editor","body":"# Postgresql Function Editor - Sublime Plugin\r\n\r\nPlugin for [Sublime Text 3](http://www.sublimetext.com) that helps you work directly with postgresql database functions and run [pgTAP](http://pgtap.org) test. [Trello board](https://trello.com/b/aNujDnId/posgresql-function-editor-sublime-text)\r\n\r\n*Warning:* If you experience problems or have suggestions please [file an issue](https://github.com/danmanstx/pfe/issues).\r\n\r\n## Features\r\n\r\n* Load functions from a specified database.\r\n* Save a Function to the database with output.\r\n* Ability to Run a [pgTAP](http://pgtap.org) test, or all open test files.\r\n* Pgplsql highlighting, and pgTAP output panel highlighting.\r\n* Quick Switch between file and test with <kbd>CMD</kbd>+<kbd>.</kbd>.\r\n* Quick Create new plpgsql functions with <kbd>CMD</kbd>+<kbd>ALT</kbd>+<kbd>o</kbd>.\r\n* Common Completions and Snippets for `plpgsql`\r\n\r\n![gif](https://raw.github.com/danmanstx/pfe/master/images/pfe.gif)\r\n\r\n## Usage\r\n\r\n### Set Database Information\r\n\r\n* Invoke via <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>D</kbd> (menu: `Tools` -> `Postgresql Function Editor` -> `Set Databse Info`)\r\n* set database option values\r\n\r\n\r\n![Sample Database Info File](https://raw.github.com/danmanstx/pfe/master/images/settings.png)\r\n\r\n### Load Database functions\r\n\r\n* Invoke via <kbd>F1</kbd> or `Tools` -> `Postgresql Function Editor` -> `Load Database Functions`\r\n* Loads the database functions in the side bar seperated by folders which one for each schema.\r\n\r\n\r\n### Save a Function to The Database\r\n\r\n* Invoke via <kbd>F2</kbd> or `Tools` -> `Postgresql Function Editor` -> `Save Database Function`\r\n* Saves the function to the database and opens a panel with the command output.\r\n\r\n![Saved Function](https://raw.github.com/danmanstx/pfe/master/images/save.png)\r\n\r\n### Run [pgTAP](http://pgtap.org) Test(s)\r\n\r\n#### Run test in active tab\r\n\r\n* Invoke via <kbd>F3</kbd> or `Tools` -> `Postgresql Function Editor` -> `Run pgTAP Test`\r\n* Saves the function to the database and opens a panel with the test output.\r\n\r\n![Test Output](https://raw.github.com/danmanstx/pfe/master/images/test.png)\r\n\r\n#### Run all opened tests \r\n\r\n* Invoke via <kbd>F4</kbd> or `Tools` -> `Postgresql Function Editor` -> `Run All Opened Tests`\r\n* Saves the active function to the database and opens a panel with the test output for all open test.\r\n\r\n### Quick Switch/Create File\r\n\r\n* Invoke via <kbd>CMD</kbd>+<kbd>.</kbd> or <kbd>CMD</kbd>+<kbd>Ctrl</kbd>+<kbd>.</kbd> for same pane split.\r\n* Attempts to switch to or create the alternating file/test based on the schema and function name.\r\n* this expects either a `public`/`testing` schema, or `foo` and `foo_testing` schemas as an example.\r\n\r\n### Create New Function\r\n\r\n* Invoke via <kbd>CMD</kbd>+<kbd>ALT</kbd>+<kbd>o</kbd>\r\n* Brings up a list of schemas, and then allows you to specify the exact function you would like. Then use <kbd>F2</kbd> to save this function into the current database.\r\n\r\n## Dependencies\r\n\r\n* Sublime Text 3\r\n* working ruby install with support for [rvm](http://rvm.io), [macports](http://www.macports.org), and system ruby **be sure to set in user settings**\r\n* [Ruby gem PG](https://rubygems.org/gems/pg) `gem install pg`\r\n* [pgTAP](http://pgtap.org) for pgTAP testing\r\n\r\n## How to install on a Mac\r\n\r\n1. install [rvm](https://rvm.io)<br>\r\n  `gpg --keyserver hkp://keys.gnupg.net --recv-keys D39DC0E3`<br>\r\n`\\curl -sSL https://get.rvm.io | bash -s stable`\r\n2. install ruby in rvm<br>\r\n`rvm install 2.1.5`\r\n3. [install postgresql app](http://postgresapp.com)\r\n4. use header from postgresql app with rvm ruby to install `gem pg`<br>\r\n  `gem install pg -- --with-pg-include='/Applications/Postgres.app/Contents/Versions/9.4/include/' --with-pg-config=/Applications/Postgres.app/Contents/Versions/9.4/bin/pg_config`\r\n5. install [sublime](http://www.sublimetext.com/3) *if needed*\r\n6. install [package manager](https://packagecontrol.io/installation) *if needed*\r\n7. run the following to install Xcode command line tools *if needed*<br>\r\n  `xcode-select --install`\r\n8. clone repo for pfe <br>\r\n  `git clone https://github.com/danmanstx/pfe.git`\r\n9. before closing sublime add `pfe` to your `installed packages` located here:<br>\r\n  `Sublime text --> Preferences --> Package Settings --> Package Control --> Settings - User`\r\n\r\n**COMING SOON** install with [Package Control](http://wbond.net/sublime_packages/package_control)\r\n\r\n## Options\r\n\r\nSample options below.\r\n\r\nGo to `Preferences` -> `Package Settings` -> `Postgresql Function Editor`->`Settings - User` and add this to the file or copy and edit from `Settings - Default` :\r\n\r\n<pre>\r\n{\r\n  \"function_folder\": \"/tmp/postgresFunctions\",\r\n  \"host\": \"localhost\",\r\n  \"database\": \"database\",\r\n  \"user\": \"postgresql\",\r\n  \"password\": \"\",\r\n  \"port\": \"5432\",\r\n  \"ruby_manager\": \"rvm\"\r\n}\r\n</pre>\r\n\r\n## Changelog\r\n\r\n### v1.0.0\r\n\r\n* Initial release\r\n\r\n## Acknowledgments\r\n\r\n* Inspired by [Suran Systems](http://www.suran.com) Textmate Postgresql Bundle.\r\n* Quick Switching Inspired by [Ruby Test](https://github.com/maltize/sublime-text-2-ruby-tests).\r\n* Quick File Creation Inspired By [Sublime Quick File Creator](https://github.com/noklesta/SublimeQuickFileCreator)\r\n\r\n## Roadmap\r\n\r\n* Add more plpgsql Snippets for better autocompletion.\r\n* Change to psql build system for easier install and use.\r\n* Creation of atom plugin because sublime's future is uncertain.\r\n\r\n## Copyright and license\r\n\r\nCopyright Â© 2014 Danny Peters, @[danmanstx](http://twitter.com/danmanstx)\r\n\r\nLicensed under the [**GNU GPL**](https://gnu.org/licenses/gpl.html) license.","google":"UA-58598607-1","note":"Don't delete this file! It's used internally to help with page regeneration."}